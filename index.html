<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bookmarklet Parts</title>
<style>
body{font-family:system-ui;background:#0f0f14;color:#fff;display:flex;align-items:center;justify-content:center;height:100vh;margin:0}
.card{background:#181826;padding:32px 40px;border-radius:18px;box-shadow:0 20px 60px rgba(0,0,0,.5);text-align:center}
.btn{display:inline-block;margin:12px;padding:14px 22px;border-radius:12px;background:linear-gradient(135deg,#7c7cff,#b48cff);color:#000;font-weight:600;text-decoration:none;cursor:grab}
.hint{opacity:.7;font-size:13px;margin-top:8px}
.instructions{margin-top:14px;opacity:.85;font-size:13px;line-height:1.4}
</style>
</head>
<body>
<div class="card">
  <h2>contra</h2>
  <a class="btn" id="p1" href="#">Part I</a>
  <a class="btn" id="p2" href="#">Part II</a>
  <div class="hint">drag each to bookmarks bar</div>
	  <div class="instructions">
		<strong>instructions:</strong><br>
		run I on the talkometer page and copy the all the text that appears.<br>
		run II on graded practice and paste into "paste list here." modify settings and enjoy!
	</div>
</div>
<script>
function makeBookmarklet(el, code){
  if (!code.trim().toLowerCase().startsWith('javascript:')) {
    code = 'javascript:' + code;
  }
  el.href = code;
}
// === EDIT BELOW ===
// replace the code inside the quotes with your own javascript
makeBookmarklet(p1, "javascript%3A(function()%7Blet prompts%3D%5B%5D%3Blet translations%3D%5B%5D%3Blet trs%3Ddocument.querySelectorAll('tr')%3Btrs.forEach(tr%3D>%7Blet tds%3Dtr.querySelectorAll('td')%3Bif(tds.length>%3D2)%7Bprompts.push(tds%5B0%5D.textContent.trim())%3Btranslations.push(tds%5B1%5D.textContent.trim())%3B%7D%7D)%3Bif(prompts.length%3D%3D%3D0)%7Balert('No table rows with at least two cells found')%3Breturn%3B%7Dlet div%3Ddocument.createElement('div')%3Bdiv.style.position%3D'fixed'%3Bdiv.style.top%3D'10px'%3Bdiv.style.right%3D'10px'%3Bdiv.style.background%3D'white'%3Bdiv.style.padding%3D'20px'%3Bdiv.style.border%3D'1px solid black'%3Bdiv.style.zIndex%3D'9999'%3Bdiv.style.maxHeight%3D'80vh'%3Bdiv.style.overflow%3D'auto'%3Bdiv.style.boxShadow%3D'0 0 10px rgba(0%2C0%2C0%2C0.5)'%3Blet content%3D'<table><tbody>'%3Bprompts.forEach((p%2Ci)%3D>%7Bcontent%2B%3D%60<tr><td>%24%7Bi%2B1%7D. %24%7Bp%7D<%2Ftd><td>%24%7Bi%2B1%7D. %24%7Btranslations%5Bi%5D%7D<%2Ftd><%2Ftr>%60%3B%7D)%3Bcontent%2B%3D'<%2Ftbody><%2Ftable>'%3Bdiv.innerHTML%3Dcontent%3Bdocument.body.appendChild(div)%3B%7D)()%3B");
// replace the code inside the quotes with your own javascript
makeBookmarklet(p2, "javascript:(function(){let o=document.createElement('div');o.style='position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:999999;display:flex;align-items:center;justify-content:center;';let p=document.createElement('div');p.style='background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);padding:18px;border-radius:10px;width:400px;max-width:95%;box-shadow:0 8px 30px rgba(0,0,0,0.2);text-align:center;position:relative;color:#fff;border:1px solid rgba(255,255,255,0.2);';let ttl=document.createElement('h2');ttl.textContent='contra';ttl.style='color:#fff;';let ta=document.createElement('textarea');ta.style='width:100%;height:160px;font-family:monospace;border:1px solid rgba(255,255,255,0.2);border-radius:5px;background:rgba(255,255,255,0.1);color:#fff;';ta.placeholder='Paste list here';let dd=document.createElement('div');dd.style.margin='12px 0';let lbl=document.createElement('label');lbl.textContent='Delay (sec):';lbl.style='color:#fff;';let inp=document.createElement('input');inp.type='number';inp.step=0.5;inp.value=3;inp.style='width:80px;padding:8px;border:1px solid rgba(255,255,255,0.2);background:rgba(255,255,255,0.1);color:#fff;';dd.append(lbl,inp);let infiniteDiv=document.createElement('div');infiniteDiv.style.margin='12px 0';let infiniteLbl=document.createElement('label');infiniteLbl.textContent='Infinite Mode';infiniteLbl.style='color:#fff;';let infiniteChk=document.createElement('input');infiniteChk.type='checkbox';infiniteChk.style='margin-left:10px;';infiniteDiv.append(infiniteLbl,infiniteChk);let correctDiv=document.createElement('div');correctDiv.style.margin='12px 0';let correctLbl=document.createElement('label');correctLbl.textContent='Total Correct:';correctLbl.style='color:#fff;';let correctInp=document.createElement('input');correctInp.type='number';correctInp.min=0;correctInp.value=0;correctInp.style='width:80px;padding:8px;border:1px solid rgba(255,255,255,0.2);background:rgba(255,255,255,0.1);color:#fff;';correctDiv.append(correctLbl,correctInp);let incorrectDiv=document.createElement('div');incorrectDiv.style.margin='12px 0';let incorrectLbl=document.createElement('label');incorrectLbl.textContent='Total Incorrect:';incorrectLbl.style='color:#fff;';let incorrectInp=document.createElement('input');incorrectInp.type='number';incorrectInp.min=0;incorrectInp.value=0;incorrectInp.style='width:80px;padding:8px;border:1px solid rgba(255,255,255,0.2);background:rgba(255,255,255,0.1);color:#fff;';incorrectDiv.append(incorrectLbl,incorrectInp);infiniteChk.addEventListener('change',()=>{let disabled=infiniteChk.checked;correctInp.disabled=disabled;incorrectInp.disabled=disabled;correctDiv.style.opacity=disabled?0.5:1;incorrectDiv.style.opacity=disabled?0.5:1;});let btn=document.createElement('button');btn.textContent='Start';btn.style='padding:10px 28px;background:rgba(142,68,173,0.8);color:white;border:none;border-radius:5px;cursor:pointer;';let cls=document.createElement('button');cls.textContent='Ã—';cls.style='position:absolute;top:4px;right:10px;font-size:24px;border:none;background:none;cursor:pointer;color:#fff;';cls.onclick=()=>{document.body.removeChild(o)};p.append(ttl,ta,dd,infiniteDiv,correctDiv,incorrectDiv,btn,cls);o.appendChild(p);document.body.appendChild(o);let isRunning=false;let answerSequence=[];let answerIndex=0;let intervalId=null;btn.onclick=()=>{console.log('%c[Helper] Started','color:#8e44ad;font-weight:bold;');let t=ta.value.trim(),s=parseFloat(inp.value);let infinite=infiniteChk.checked;let totalCorrect=infinite?0:parseInt(correctInp.value,10);let totalIncorrect=infinite?0:parseInt(incorrectInp.value,10);if(!t||isNaN(s))return;document.body.removeChild(o);let total=totalCorrect+totalIncorrect;if(total>0&&!infinite){let projectedGrade=(totalCorrect/total)*100;let gradeScreen=document.createElement('div');gradeScreen.style='position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:999999;display:flex;align-items:center;justify-content:center;';let gradePanel=document.createElement('div');gradePanel.style='background:rgba(255,255,255,0.1);backdrop-filter:blur(10px);padding:18px;border-radius:10px;width:300px;text-align:center;color:#fff;border:1px solid rgba(255,255,255,0.2);';let gradeTitle=document.createElement('h3');gradeTitle.textContent='Projected Grade';gradeTitle.style='color:#fff;';let gradeText=document.createElement('p');gradeText.textContent=%60${projectedGrade.toFixed(2)}%%60;gradeText.style='color:#fff;';let continueBtn=document.createElement('button');continueBtn.textContent='Continue';continueBtn.style='padding:10px 20px;background:rgba(142,68,173,0.8);color:white;border:none;border-radius:5px;cursor:pointer;margin-top:10px;';continueBtn.onclick=()=>{document.body.removeChild(gradeScreen);startAutomation();};let backBtn=document.createElement('button');backBtn.textContent='Back';backBtn.style='padding:10px 20px;background:rgba(142,68,173,0.8);color:white;border:none;border-radius:5px;cursor:pointer;margin-top:10px;margin-left:10px;';backBtn.onclick=()=>{document.body.removeChild(gradeScreen);document.body.appendChild(o);};gradePanel.append(gradeTitle,gradeText,continueBtn,backBtn);gradeScreen.appendChild(gradePanel);document.body.appendChild(gradeScreen);}else{startAutomation();}function startAutomation(){let e2s={},s2e={};t.split('\n').forEach(l=>{let m=l.match(/^\d+\.(.+?)\s*\d+\.\s*(.+)$/);if(m){let en=m[1].trim().toLowerCase();let sp=m[2].trim().split('/')[0].trim().toLowerCase();e2s[en]=sp;s2e[sp]=m[1].trim();}});if(total>0&&!infinite){answerSequence=Array(totalCorrect).fill(true).concat(Array(totalIncorrect).fill(false));answerSequence.sort(()=>Math.random()-0.5);}let intervalDelay=s>0?s*1000:10;intervalId=setInterval(()=>{if(isRunning)return;isRunning=true;let qe=document.querySelector('#question-input');let input=document.querySelector('#answer-input');if(!qe||!input){isRunning=false;return;}let q=qe.textContent.trim().toLowerCase();let ans=e2s[q]||s2e[q];if(!ans){isRunning=false;return;}if(total>0&&!infinite&&answerIndex>=total){clearInterval(intervalId);isRunning=false;return;}let useCorrect=infinite||total===0||answerSequence[answerIndex];if(!infinite)answerIndex++;input.focus();input.value=useCorrect?ans:'xyz';input.dispatchEvent(new Event('input',{bubbles:true}));input.dispatchEvent(new Event('change',{bubbles:true}));let cb=document.getElementById('check-button')||document.querySelector('.js-check-button');if(cb){cb.removeAttribute('disabled');cb.classList.remove('disabled');}const events=['input','change','blur'];events.forEach(ev=>input.dispatchEvent(new Event(ev,{bubbles:true})));if(typeof verifyAnswer==='function'){verifyAnswer();}let form=input.form||input.closest('form');if(form){form.submit();}else if(window.jQuery){window.jQuery('#form').submit();}const enter={key:'Enter',code:'Enter',keyCode:13,which:13,bubbles:true};input.dispatchEvent(new KeyboardEvent('keydown',enter));input.dispatchEvent(new KeyboardEvent('keypress',enter));input.dispatchEvent(new KeyboardEvent('keyup',enter));if(cb){cb.click();}if(cb){['click','mousedown','mouseup','pointerdown','pointerup','touchstart','touchend'].forEach(type=>{cb.dispatchEvent(new MouseEvent(type,{bubbles:true,cancelable:true,view:window}));});}if(window.jQuery&&cb){let $=window.jQuery;let jqEvent=$.Event('click');jqEvent.target=cb;jqEvent.currentTarget=cb;jqEvent.isTrusted=true;jqEvent.originalEvent={isTrusted:true};jqEvent.preventDefault=function(){};jqEvent.stopPropagation=function(){};let eventsData=$._data(cb,'events');if(eventsData&&eventsData.click){eventsData.click.forEach(function(handlerObj){handlerObj.handler.call(cb,jqEvent);});}}let postSubmitDelay=s>0?s*1000:0;setTimeout(()=>{isRunning=false;},postSubmitDelay);},intervalDelay);}}})();");
</script>
</body>
</html>
